# ============================================
# REQUIRED - Core Configuration
# ============================================

# MongoDB Connection
# For local: mongodb://localhost:27017
# For Atlas: mongodb+srv://username:password@cluster.mongodb.net/
# If password has special characters, use: npm run encode-mongo-password
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB_NAME=mockup-machine

# Server Configuration
PORT=3001
FRONTEND_URL=http://localhost:3000

# JWT Secret (generate with: npm run generate-jwt-secret)
# CRITICAL: Must be set in production. Server will fail to start without it.
JWT_SECRET=your-secret-key-change-in-production

# ============================================
# DEVELOPMENT ONLY - Do NOT use in production
# ============================================

# Credit bypass for local development (allows testing without consuming credits)
# DANGER: Never set to 'true' in production!
# Only works when NODE_ENV=development
# ALLOW_LOCAL_CREDIT_BYPASS=true

# Google OAuth (for authentication)
# See docs/SETUP_OAUTH.md for detailed setup
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback

# ============================================
# OPTIONAL - AI/LLM Services
# ============================================

# Google Gemini API Key (for AI image generation)
# Get your key at: https://aistudio.google.com/app/apikey
# Without this, AI features will be disabled
GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# OPTIONAL - Payment Services
# ============================================

# Stripe (for credit card payments)
# See docs/SETUP_STRIPE.md for detailed setup
# Without this, payment features will be disabled
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PRICE_ID_USD=price_your_usd_price_id
STRIPE_PRICE_ID_BRL=price_your_brl_price_id
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# AbacatePay (for PIX payments in Brazil)
# See docs/SETUP_ABACATEPAY.md for detailed setup
# Without this, PIX payment option will be unavailable
ABACATEPAY_API_KEY=your_abacatepay_api_key
ABACATEPAY_WEBHOOK_SECRET=your_abacatepay_webhook_secret

# ============================================
# OPTIONAL - Storage Services
# ============================================

# Cloudflare R2 (for image/file storage)
# See docs/SETUP_R2.md for detailed setup
# Without this, images will use base64 (temporary storage)
R2_ACCOUNT_ID=your_r2_account_id
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_BUCKET_NAME=your_bucket_name
R2_PUBLIC_URL=https://your-bucket.r2.dev

# ============================================
# OPTIONAL - Collaboration Services
# ============================================

# Liveblocks (for real-time canvas collaboration)
# See docs/SETUP_LIVEBLOCKS.md for detailed setup
# Without this, canvas collaboration will be disabled (canvas still works)
LIVEBLOCKS_SECRET_KEY=sk_live_your_liveblocks_secret_key
# Liveblocks Webhook Secret (for webhook signature verification)
# Get your webhook secret from Liveblocks dashboard > Webhooks
# Optional but recommended for security
LIVEBLOCKS_WEBHOOK_SECRET=your_liveblocks_webhook_secret

# ============================================
# OPTIONAL - Email Services
# ============================================

# Resend (for password reset emails)
# Get your API key at: https://resend.com/api-keys
# Without this, password reset will be disabled
RESEND_API_KEY=re_your_resend_api_key
RESEND_FROM_EMAIL=noreply@yourdomain.com
# Resend Webhook Secret (for webhook signature verification)
# Get your webhook secret from Resend dashboard > Webhooks
# Optional but recommended for security
RESEND_WEBHOOK_SECRET=whsec_your_resend_webhook_secret

# ============================================
# OPTIONAL - User API Key Encryption
# ============================================

# Master encryption key for encrypting user-provided Gemini API keys
# Generate a secure random key with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# IMPORTANT: This key must be set in production. Never commit this key to version control.
# Without this, users cannot save their own API keys
API_KEY_ENCRYPTION_KEY=your_32_byte_hex_encryption_key_here

# ============================================
# OPTIONAL - Security & Abuse Prevention
# ============================================

# hCaptcha (for preventing bot signups)
# Get your keys at: https://www.hcaptcha.com/
# Without this, CAPTCHA verification will be disabled
HCAPTCHA_SITE_KEY=your_hcaptcha_site_key
HCAPTCHA_SECRET_KEY=your_hcaptcha_secret_key
CAPTCHA_ENABLED=true

# Rate Limiting
# Control rate limiting for authentication endpoints
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=3600000
RATE_LIMIT_MAX_SIGNUP=3
RATE_LIMIT_MAX_SIGNIN=10

# ============================================
# OPTIONAL - Community Links
# ============================================

# WhatsApp Group URL (for community/support links)
# Optional - If not set, WhatsApp links will be hidden
WHATSAPP_GROUP_URL=

# ============================================
# Frontend Environment Variables
# ============================================
# These go in .env (not .env.local) for Vite to access them

VITE_API_URL=http://localhost:3001/api
VITE_HCAPTCHA_SITE_KEY=your_hcaptcha_site_key

# Stripe Publishable Key (frontend)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Site URL for SEO (canonical URLs, Open Graph, etc.)
# Production: https://visantlabs.com
# Development: http://localhost:3000 (will auto-detect if not set)
VITE_SITE_URL=

# WhatsApp Group URL (frontend access)
# Must match WHATSAPP_GROUP_URL for consistency
VITE_WHATSAPP_GROUP_URL=

